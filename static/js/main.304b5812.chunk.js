(this["webpackJsonpflickr-image-searcher"]=this["webpackJsonpflickr-image-searcher"]||[]).push([[0],{108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var c,a=n(0),r=n.n(a),o=n(21),i=n.n(o),s=(n(77),n(18)),u=(n(78),n(22)),j=n(7),l=n(56),O=n(10),b=(n(83),n(70)),f=n(15);!function(e){e.ADD_BOOKMARK="ADD_BOOKMARK",e.REMOVE_BOOKMARK="REMOVE_BOOKMARK"}(c||(c={}));var d,m={bookmarksList:[String]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.ADD_BOOKMARK:return e.bookmarksList.includes(t.payload)?e:Object(f.a)(Object(f.a)({},e),{},{bookmarksList:[].concat(Object(b.a)(e.bookmarksList),[t.payload])});case c.REMOVE_BOOKMARK:return Object(f.a)(Object(f.a)({},e),{},{bookmarksList:e.bookmarksList.filter((function(e){return e!==t.payload}))});default:return e}},p=n(138),g=n(130),E=n(131),v=n(132),x=n(133),S=n(134),k=n(135),_=(n(84),{FIRST_PAGE:1,EMPTY:"",TRUE:!0,FALSE:!1,SEARCH_DELAY_TIME:500,PAGE_SIZE:100,PAGES_PORTION:5,IDLE_DELAY_TIME:6e4,IDLE_DEBOUNCE:500}),I="Back",A="Forward",L="Page",T="of",R="Bookmark it!",N="Remove it!",y="User is not active",M="for",C="seconds.",B="No images here. Would you try to search for anything else?",D="Image Finder",F="Copyrights",P="main",G="bookmarks",K=n(3),w=function(e){var t=e.imageSrcPath,n=e.imageTitle,c=e.handleAddButtonClick,a=e.handleRemoveButtonClick;return Object(K.jsxs)(p.a,{className:"ImageCard",children:[Object(K.jsxs)(g.a,{children:[Object(K.jsx)(E.a,{component:"img",height:"180",image:t}),Object(K.jsx)(v.a,{children:Object(K.jsx)(x.a,{gutterBottom:!0,variant:"h5",component:"h2",children:n})})]}),Object(K.jsxs)(S.a,{children:[Object(K.jsx)(j.a,{exact:!0,path:"/".concat(P),children:Object(K.jsx)(k.a,{size:"small",color:"primary",onClick:function(){return c(t)},children:R})}),Object(K.jsx)(j.a,{exact:!0,path:"/".concat(G),children:Object(K.jsx)(k.a,{size:"small",color:"primary",onClick:function(){return a(t)},children:N})})]})]})},H=function(){var e=Object(O.c)((function(e){return e.imagesList.imagesInfoList})),t=Object(O.c)((function(e){return e.bookmarks.bookmarksList})),n=Object(O.b)(),a=function(e){var t;n((t=e,{type:c.ADD_BOOKMARK,payload:t}))},r=function(e){var t;n((t=e,{type:c.REMOVE_BOOKMARK,payload:t}))};return Object(K.jsxs)("div",{className:"ImagesContainer",children:[Object(K.jsx)(j.a,{exact:!0,path:"/".concat(P),children:e.page?e.photo.map((function(e){var t="https://farm".concat(e.farm,".staticflickr.com/").concat(e.server,"/").concat(e.id,"_").concat(e.secret,".jpg");if(t)return Object(K.jsx)(w,{imageSrcPath:t,imageTitle:e.title,handleAddButtonClick:a,handleRemoveButtonClick:r},e.id)})):"".concat(B)}),Object(K.jsx)(j.a,{exact:!0,path:"/".concat(G),children:t.map((function(e){if(e)return Object(K.jsx)(w,{imageSrcPath:e,handleAddButtonClick:a,handleRemoveButtonClick:r},e)}))})]})},z=(n(87),n(64)),U=n.n(z),Y=n(65),J=n.n(Y),V=n(43),W=n.n(V),Z=n(62),q=n(63),Q=n.n(q),X=function(e,t){return Q.a.get("".concat("https://www.flickr.com/services/rest/?").concat("method=flickr.photos.search","&api_key=").concat("de58ac752340901ded737da22c3fe0c0","&text=").concat(e,"&page=").concat(t,"&").concat("format=json&nojsoncallback=1")).then((function(e){return e.data}))};!function(e){e.SET_IMAGES_INFO="SET_IMAGES_INFO",e.SET_IS_LOADING="SET_IS_LOADING"}(d||(d={}));var $,ee={imagesInfoList:{page:0,pages:0,perpage:0,total:"0",photo:[]},isLoading:_.FALSE},te=function(e){return{type:d.SET_IMAGES_INFO,payload:e}},ne=function(e){return{type:d.SET_IS_LOADING,payload:e}},ce=function(e,t){return function(){var n=Object(Z.a)(W.a.mark((function n(c){var a;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=9;break}return c(ne(_.TRUE)),n.next=4,X(e,t);case 4:a=n.sent,c(te(a.photos)),c(ne(_.FALSE)),n.next=10;break;case 9:c(te(ee.imagesInfoList));case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.SET_IMAGES_INFO:return Object(f.a)(Object(f.a)({},e),{},{imagesInfoList:t.payload});case d.SET_IS_LOADING:return Object(f.a)(Object(f.a)({},e),{},{isLoading:t.payload});default:return e}},re=function(){for(var e=Object(O.b)(),t=Object(O.c)((function(e){return e.searchForm.searchTerm})),n=Object(O.c)((function(e){return e.imagesList.imagesInfoList.page})),c=Object(O.c)((function(e){return e.imagesList.imagesInfoList.pages})),r=[],o=1;o<=c;o++)r.push(o);var i=Object(a.useState)(1),u=Object(s.a)(i,2),j=u[0],l=u[1],b=Math.ceil(c/_.PAGES_PORTION),f=(j-1)*_.PAGES_PORTION+1,d=j*_.PAGES_PORTION;return Object(K.jsxs)("div",{className:"Paginator",children:[j>1&&Object(K.jsx)(k.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return l(j-1)},startIcon:Object(K.jsx)(U.a,{}),children:I}),0!==n&&L,r.filter((function(e){return e>=f&&e<=d})).map((function(c){return Object(K.jsx)("span",{className:"".concat(n===c&&"selected-page"),onClick:function(){e(ce(t,c))},children:c},c)})),0!==n&&Object(K.jsxs)("span",{children:[" ",T," ",c]}),b>j&&Object(K.jsx)(k.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return l(j+1)},startIcon:Object(K.jsx)(J.a,{}),children:A})]})};!function(e){e.SET_SEARCH_TERM="SET_SEARCH_TERM"}($||($={}));var oe={searchTerm:""},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.SET_SEARCH_TERM:return Object(f.a)(Object(f.a)({},e),{},{searchTerm:t.payload.toLowerCase()});default:return e}},se=(n(108),function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.searchForm.searchTerm})),n=function(e,t){var n=Object(a.useState)(e),c=Object(s.a)(n,2),r=c[0],o=c[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[t,e]),r}(t,_.SEARCH_DELAY_TIME),c=Object(O.c)((function(e){return e.imagesList.imagesInfoList.page})),r=Object(O.c)((function(e){return e.imagesList.isLoading}));Object(a.useEffect)((function(){n&&e(ce(t,c||_.FIRST_PAGE))}),[c,n,e,t]);return Object(K.jsxs)("form",{className:"SearchForm",onSubmit:function(n){n.preventDefault(),t&&e(ce(t,c||_.FIRST_PAGE))},children:[Object(K.jsx)("input",{className:"SearchInput",value:t,onChange:function(t){var n=t.target.value;e(function(e){return{type:$.SET_SEARCH_TERM,payload:e}}(n))}}),r&&Object(K.jsx)("div",{children:"Searching ..."})]})}),ue=(n(109),function(){return Object(K.jsxs)("div",{className:"MainPage",children:[Object(K.jsx)(se,{}),Object(K.jsx)(re,{}),Object(K.jsx)(H,{})]})}),je=(n(110),function(){return Object(K.jsxs)("div",{className:"BookmarksPage",children:["BookmarksPage Component",Object(K.jsx)(H,{})]})}),le=n(66),Oe=n.n(le),be=n(67),fe=n.n(be),de=(n(111),n(136)),me=n(137),he=function(){var e=r.a.useState("main"),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(K.jsx)("div",{className:"SideBar",children:Object(K.jsxs)(de.a,{value:n,onChange:function(e,t){c(t)},className:"Nav",children:[Object(K.jsx)(me.a,{component:u.b,to:P,label:"Main",value:P,className:"NavLink",icon:Object(K.jsx)(Oe.a,{fontSize:"large"})}),Object(K.jsx)(me.a,{component:u.b,to:G,label:"Bookmarks",value:G,className:"NavLink",icon:Object(K.jsx)(fe.a,{fontSize:"large"})})]})})},pe=(n(112),function(){var e=Object(a.useState)(0),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=setInterval((function(){c((function(e){return e+1}))}),1e3);return function(){return clearInterval(e)}}),[n]),Object(K.jsxs)("div",{className:"IdleMask",children:[y," ",M," ",n," ",C]})}),ge=(n(113),function(){return Object(K.jsx)("div",{className:"Header",children:D})}),Ee=(n(114),function(){return Object(K.jsx)("div",{className:"Footer",children:F})});var ve=function(){var e=Object(a.useState)(_.FALSE),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(l.a)({timeout:_.IDLE_DELAY_TIME,onIdle:function(){c(_.TRUE)},onActive:function(){c(_.FALSE)},debounce:_.IDLE_DEBOUNCE}),Object(K.jsxs)("div",{className:"App",children:[n&&Object(K.jsx)(pe,{}),Object(K.jsxs)(u.a,{children:[Object(K.jsx)(ge,{}),Object(K.jsx)(he,{}),Object(K.jsx)(j.a,{exact:!0,path:"/".concat(P),children:Object(K.jsx)(ue,{})}),Object(K.jsx)(j.a,{exact:!0,path:"/".concat(G),children:Object(K.jsx)(je,{})}),Object(K.jsx)(Ee,{})]})]})},xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,139)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))},Se=n(24),ke=n(68),_e=n(69),Ie=Object(Se.combineReducers)({imagesList:ae,searchForm:ie,bookmarks:h}),Ae=Object(Se.createStore)(Ie,localStorage.reduxState?JSON.parse(localStorage.reduxState):{},Object(ke.composeWithDevTools)(Object(Se.applyMiddleware)(_e.a)));Ae.subscribe((function(){return localStorage.reduxState=JSON.stringify(Ae.getState())}));var Le=Ae;i.a.render(Object(K.jsx)(r.a.StrictMode,{children:Object(K.jsx)(O.a,{store:Le,children:Object(K.jsx)(ve,{})})}),document.getElementById("root")),xe()},77:function(e,t,n){},78:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},87:function(e,t,n){}},[[115,1,2]]]);
//# sourceMappingURL=main.304b5812.chunk.js.map