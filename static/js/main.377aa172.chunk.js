(this["webpackJsonpflickr-image-searcher"]=this["webpackJsonpflickr-image-searcher"]||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){"use strict";n.r(t);var a,c=n(0),r=n.n(c),o=n(22),i=n.n(o),s=(n(79),n(16)),u=(n(80),n(23)),l=n(9),j=n(58),O=n(7),b=(n(85),n(72)),d=n(8);!function(e){e.ADD_BOOKMARK="ADD_BOOKMARK",e.REMOVE_BOOKMARK="REMOVE_BOOKMARK"}(a||(a={}));var f,h={bookmarksList:[String]},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.ADD_BOOKMARK:return e.bookmarksList.includes(t.payload)?e:Object(d.a)(Object(d.a)({},e),{},{bookmarksList:[].concat(Object(b.a)(e.bookmarksList),[t.payload])});case a.REMOVE_BOOKMARK:return Object(d.a)(Object(d.a)({},e),{},{bookmarksList:e.bookmarksList.filter((function(e){return e!==t.payload}))});default:return e}},E=n(145),g=n(136),p=n(137),S=n(138),T=n(139),v=n(140),x=n(141),_=n(144),k=(n(86),{FIRST_PAGE:1,EMPTY:"",TRUE:!0,FALSE:!1,SEARCH_DELAY_TIME:500,PAGE_SIZE:100,PAGES_PORTION:5,IDLE_DELAY_TIME:6e4,IDLE_DEBOUNCE:500,ZERO:0}),A="Back",L="Forward",I="Page",M="of",R="Bookmark it!",P="Remove it!",N="User is not active",y="for",D="seconds.",F="No images here. Would you try to search for anything else?",C="Image Finder",Y="\xa9 Copyrights",B="You have been authorized as ",G="You are not authorized",K="some tags?",U="main",w="bookmarks",z=n(2),H=function(e){var t=e.imageSrcPath,n=e.imageTitle,a=e.handleAddButtonClick,r=e.handleRemoveButtonClick,o=e.userTags,i=Object(c.useState)(k.EMPTY),u=Object(s.a)(i,2),j=u[0],O=u[1];return Object(z.jsxs)(E.a,{className:"ImageCard",children:[Object(z.jsxs)(g.a,{children:[Object(z.jsx)(p.a,{component:"img",height:"180",image:t,title:n}),Object(z.jsx)(S.a,{children:Object(z.jsx)(T.a,{gutterBottom:!0,variant:"h5",component:"h2",noWrap:!0,children:n})})]}),Object(z.jsxs)(v.a,{className:"CardActionsContainer",children:[Object(z.jsxs)(l.a,{exact:!0,path:"/".concat(U),children:[Object(z.jsx)(x.a,{size:"small",color:"primary",variant:"contained",onClick:function(){return a(t,n,j)},children:R}),Object(z.jsx)(_.a,{placeholder:K,onChange:function(e){O(e.currentTarget.value)}})]}),Object(z.jsxs)(l.a,{exact:!0,path:"/".concat(w),children:[Object(z.jsx)(x.a,{size:"small",color:"primary",variant:"contained",onClick:function(){return r(t)},children:P}),Object(z.jsx)(T.a,{gutterBottom:!0,variant:"h5",title:o,noWrap:!0,children:o})]})]})]})},V=function(){var e=Object(O.c)((function(e){return e.imagesList.imagesInfoList})),t=Object(O.c)((function(e){return e.bookmarks.bookmarksList})),n=Object(O.b)(),c=function(e,t,c){n(function(e,t,n){return{type:a.ADD_BOOKMARK,payload:{bookmark:e,imageTitle:t,tagValue:n}}}(e,t,c))},r=function(e){var t;n((t=e,{type:a.REMOVE_BOOKMARK,payload:t}))};return Object(z.jsxs)("div",{className:"ImagesContainer",children:[Object(z.jsx)(l.a,{exact:!0,path:"/".concat(U),children:e.page?e.photo.map((function(e){var t="https://farm".concat(e.farm,".staticflickr.com/").concat(e.server,"/").concat(e.id,"_").concat(e.secret,".jpg");if(t)return Object(z.jsx)(H,{imageSrcPath:t,imageTitle:e.title,handleAddButtonClick:c,handleRemoveButtonClick:r},e.id)})):"".concat(F)}),Object(z.jsx)(l.a,{exact:!0,path:"/".concat(w),children:t.map((function(e){if(e)return Object(z.jsx)(H,{imageSrcPath:e.bookmark,imageTitle:e.imageTitle,userTags:e.tagValue,handleAddButtonClick:c,handleRemoveButtonClick:r},e)}))})]})},J=(n(89),n(66)),q=n.n(J),W=n(67),Z=n.n(W),Q=n(45),X=n.n(Q),$=n(64),ee="459175857441-p5479p7qs6qjllf3p7n3f7678800h1li.apps.googleusercontent.com",te=n(65),ne=n.n(te),ae=function(e,t){return ne.a.get("".concat("https://www.flickr.com/services/rest/?").concat("method=flickr.photos.search","&api_key=").concat("de58ac752340901ded737da22c3fe0c0","&text=").concat(e,"&page=").concat(t,"&").concat("format=json&nojsoncallback=1")).then((function(e){return e.data}))};!function(e){e.SET_IMAGES_INFO="SET_IMAGES_INFO",e.SET_IS_LOADING="SET_IS_LOADING"}(f||(f={}));var ce,re={imagesInfoList:{page:0,pages:0,perpage:0,total:"0",photo:[]},isLoading:k.FALSE},oe=function(e){return{type:f.SET_IMAGES_INFO,payload:e}},ie=function(e){return{type:f.SET_IS_LOADING,payload:e}},se=function(e,t){return function(){var n=Object($.a)(X.a.mark((function n(a){var c;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=9;break}return a(ie(k.TRUE)),n.next=4,ae(e,t);case 4:c=n.sent,a(oe(c.photos)),a(ie(k.FALSE)),n.next=10;break;case 9:a(oe(re.imagesInfoList));case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.SET_IMAGES_INFO:return Object(d.a)(Object(d.a)({},e),{},{imagesInfoList:t.payload});case f.SET_IS_LOADING:return Object(d.a)(Object(d.a)({},e),{},{isLoading:t.payload});default:return e}},le=function(){for(var e=Object(O.b)(),t=Object(O.c)((function(e){return e.searchForm.searchTerm})),n=Object(O.c)((function(e){return e.imagesList.imagesInfoList.page})),a=Object(O.c)((function(e){return e.imagesList.imagesInfoList.pages})),r=[],o=1;o<=a;o++)r.push(o);var i=Object(c.useState)(1),u=Object(s.a)(i,2),l=u[0],j=u[1],b=Math.ceil(a/k.PAGES_PORTION),d=(l-1)*k.PAGES_PORTION+1,f=l*k.PAGES_PORTION;return Object(z.jsxs)("div",{className:"Paginator",children:[l>1&&Object(z.jsx)(x.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return j(l-1)},startIcon:Object(z.jsx)(q.a,{}),children:A}),n!==k.ZERO&&I,r.filter((function(e){return e>=d&&e<=f})).map((function(a){return Object(z.jsx)("span",{className:"".concat(n===a&&"selected-page"),onClick:function(){e(se(t,a))},children:a},a)})),n!==k.ZERO&&Object(z.jsxs)("span",{children:[" ",M," ",a]}),b>l&&Object(z.jsx)(x.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return j(l+1)},startIcon:Object(z.jsx)(Z.a,{}),children:L})]})};!function(e){e.SET_SEARCH_TERM="SET_SEARCH_TERM"}(ce||(ce={}));var je={searchTerm:""},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.SET_SEARCH_TERM:return Object(d.a)(Object(d.a)({},e),{},{searchTerm:t.payload.toLowerCase()});default:return e}},be=(n(110),function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.searchForm.searchTerm})),n=function(e,t){var n=Object(c.useState)(e),a=Object(s.a)(n,2),r=a[0],o=a[1];return Object(c.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[t,e]),r}(t,k.SEARCH_DELAY_TIME),a=Object(O.c)((function(e){return e.imagesList.imagesInfoList.page})),r=Object(O.c)((function(e){return e.imagesList.isLoading}));Object(c.useEffect)((function(){n&&e(se(t,a||k.FIRST_PAGE))}),[a,n,e,t]);return Object(z.jsxs)("form",{className:"SearchForm",onSubmit:function(n){n.preventDefault(),t&&e(se(t,a||k.FIRST_PAGE))},children:[Object(z.jsx)("input",{className:"SearchInput",value:t,onChange:function(t){var n=t.target.value;e(function(e){return{type:ce.SET_SEARCH_TERM,payload:e}}(n))}}),r&&Object(z.jsx)("div",{children:"Searching ..."})]})}),de=(n(111),function(){return Object(z.jsxs)("div",{className:"MainPage",children:[Object(z.jsx)(be,{}),Object(z.jsx)(le,{}),Object(z.jsx)(V,{})]})}),fe=(n(112),function(){return Object(z.jsx)("div",{className:"BookmarksPage",children:Object(z.jsx)(V,{})})}),he=n(68),me=n.n(he),Ee=n(69),ge=n.n(Ee),pe=(n(113),n(142)),Se=n(143),Te=function(){var e=r.a.useState("main"),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(z.jsx)("div",{className:"SideBar",children:Object(z.jsxs)(pe.a,{value:n,onChange:function(e,t){a(t)},className:"Nav",children:[Object(z.jsx)(Se.a,{component:u.b,to:U,label:"Main",value:U,className:"NavLink",icon:Object(z.jsx)(me.a,{fontSize:"large"})}),Object(z.jsx)(Se.a,{component:u.b,to:w,label:"Bookmarks",value:w,className:"NavLink",icon:Object(z.jsx)(ge.a,{fontSize:"large"})})]})})},ve=(n(114),function(){var e=Object(c.useState)(0),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){var e=setInterval((function(){a((function(e){return e+1}))}),1e3);return function(){return clearInterval(e)}}),[n]),Object(z.jsxs)("div",{className:"IdleMask",children:[N," ",y," ",n," ",D]})}),xe=(n(115),n(116),n(39)),_e="SET_USER_DATA",ke="SET_USER_FAILURE",Ae="SET_DEFAULT_VALUES",Le="AUTH_REDUCER_TOGGLE_IS_LOADING_PROGRESS",Ie={userData:{Aa:k.EMPTY,accessToken:k.EMPTY,ft:{FS:k.EMPTY,Te:k.EMPTY,qU:k.EMPTY,lS:k.EMPTY,yJ:k.EMPTY},googleId:k.EMPTY,profileObj:{googleId:k.EMPTY,imageUrl:k.EMPTY,email:k.EMPTY,name:k.EMPTY,givenName:k.EMPTY},qc:{token_type:k.EMPTY,access_token:k.EMPTY},tokenId:k.EMPTY,tokenObj:{token_type:k.EMPTY,access_token:k.EMPTY,scope:k.EMPTY,login_hint:k.EMPTY}},isAuthorized:k.FALSE,isLoading:k.FALSE,userFailureMessage:k.EMPTY},Me=function(){return{type:Ae}},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return Object(d.a)(Object(d.a)({},e),{},{userData:t.userData,isAuthorized:k.TRUE});case Ae:return Object(d.a)(Object(d.a)({},e),{},{userData:Ie.userData,isAuthorized:k.FALSE,token:k.EMPTY});case ke:return Object(d.a)(Object(d.a)({},e),{},{userFailureMessage:t.userFailureMessage});case Le:return Object(d.a)(Object(d.a)({},e),{},{isLoading:t.isLoading});default:return e}},Pe=function(){var e=Object(O.b)();return Object(z.jsx)("div",{className:"Login",children:Object(z.jsx)(xe.GoogleLogin,{clientId:ee,buttonText:"Login",onSuccess:function(t){e({type:_e,userData:t})},onFailure:function(t){e({type:ke,userFailureMessage:t})},cookiePolicy:"single_host_origin"})})},Ne=(n(117),function(){var e=Object(O.b)();return Object(z.jsx)("div",{className:"Logout",children:Object(z.jsx)(xe.GoogleLogout,{clientId:ee,buttonText:"Logout",onLogoutSuccess:function(){e(Me())}})})}),ye=function(){var e=Object(O.c)((function(e){return e.auth.userData.profileObj.name})),t=Object(O.c)((function(e){return e.auth.isAuthorized}));return Object(z.jsxs)("div",{className:"Header",children:[Object(z.jsx)("h1",{children:C}),Object(z.jsx)(z.Fragment,{children:t?"".concat(B," ").concat(e):G}),t?Object(z.jsx)(Ne,{}):Object(z.jsx)(Pe,{})]})},De=(n(118),function(){return Object(z.jsx)("div",{className:"Footer",children:Y})});var Fe=function(){var e=Object(O.b)(),t=Object(c.useState)(k.FALSE),n=Object(s.a)(t,2),a=n[0],r=n[1];return Object(j.a)({timeout:k.IDLE_DELAY_TIME,onIdle:function(){r(k.TRUE),e(Me())},onActive:function(){r(k.FALSE)},debounce:k.IDLE_DEBOUNCE}),Object(z.jsxs)("div",{className:"App",children:[a&&Object(z.jsx)(ve,{}),Object(z.jsxs)(u.a,{children:[Object(z.jsx)(ye,{}),Object(z.jsx)(Te,{}),Object(z.jsx)(l.a,{exact:!0,path:"/".concat(U),children:Object(z.jsx)(de,{})}),Object(z.jsx)(l.a,{exact:!0,path:"/".concat(w),children:Object(z.jsx)(fe,{})}),Object(z.jsx)(De,{})]})]})},Ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,146)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))},Ye=n(25),Be=n(70),Ge=n(71),Ke=Object(Ye.combineReducers)({imagesList:ue,searchForm:Oe,bookmarks:m,auth:Re}),Ue=Object(Ye.createStore)(Ke,localStorage.reduxState?JSON.parse(localStorage.reduxState):{},Object(Be.composeWithDevTools)(Object(Ye.applyMiddleware)(Ge.a)));Ue.subscribe((function(){return localStorage.reduxState=JSON.stringify(Ue.getState())}));var we=Ue;i.a.render(Object(z.jsx)(r.a.StrictMode,{children:Object(z.jsx)(O.a,{store:we,children:Object(z.jsx)(Fe,{})})}),document.getElementById("root")),Ce()},79:function(e,t,n){},80:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},89:function(e,t,n){}},[[119,1,2]]]);
//# sourceMappingURL=main.377aa172.chunk.js.map